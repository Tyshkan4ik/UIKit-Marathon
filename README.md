# Приложение - Задачи по UIKit
Приложение состоит из 9 выполненных заданий для тренировки знаний по framework UIKit на Swift.

Данные задания были в марафоне организованным  Иваном Воробьем (Код Воробья).

Суть марафона была такая - Задание давалось  на 3 дня. Кто не сдал или сдал неправильно - ВЫЛЕТАЕТ С МАРАФОНА, дальнейшие задания не получает.

Я прошел марафон до конца.

В данном приложении я объединил все задания в одном месте.

Думаю, они могут быть интересны даже опытным разработчикам.

Каждый сможет найти в них интересные и возможно новые моменты.

### В данном файле ниже, я привожу текст каждого задания, скриншоты выполненых мною заданий и мои коментарии по ним с пометками какие инструменты применял в каждом задании!

## Главная страница:

<img width="245" alt="Снимок экрана 2023-04-25 в 23 38 00" src="https://user-images.githubusercontent.com/122968178/234402189-4de92967-6195-47e6-9bba-2bc46a9b666e.png">


## Главная страница выполнена с помощью Коллекции, а также я применял:

⭐ Верстку кодом

⭐ UICollectionView

⭐ UINavigationController

⭐ Верстка через constraints

И другие инструменты



## Задание №1 - Градиент и тень
Поместить на экран квадратную вью и закруглить ей края.
 
Вью должна быть покрашена градиентом. 

Установить для вью тень.

Вью всегда по центру по вертикали и 100pt от левого края.

<img width="245" alt="Снимок экрана 2023-04-25 в 23 38 22" src="https://user-images.githubusercontent.com/122968178/234404464-0031956a-5ee7-4256-a9a5-74a3063dd010.png">


### Мой комментарий по заданию №1:
Данное задание было довольно простым, так как градиент я делал ранее.

А повторить момент с одновременным применением тени и закругления углов - было полезно!

⭐ Сделал путем добавления радиуса и градиента на Sublayer



## Задание №2 - Три кнопки
Добавить на экран 3 кнопки с разным текстом. По нажатию на третью кнопку показывать модальный контроллер.

- Кнопки должны быть адаптивные, под разный текст - разная ширина. 
Отступ внутри кнопки от контента 10pt по вертикали и 14pt по вертикали.

- По нажатию анимировано уменьшать кнопку. Когда отпускаешь - кнопка возвращается к оригинальному размеру. Анимация должна быть прерываемая, например, кнопка возвращается к своему размеру, а в процессе анимации снова нажать на кнопку - анимация пойдет из текущего размера, без скачков.

- Справа от текста поставить иконку. Использовать системный imageView в классе кнопки. Создавать свою картинку нельзя. Расстояние между текстом и кнопкой 8pt.

- Когда показывается модальный контроллер, кнопки должны закрашиваться серым. Нельзя привязываться к методам жизненного цикла контроллера.

<img width="245" alt="Снимок экрана 2023-04-25 в 23 38 44" src="https://user-images.githubusercontent.com/122968178/234407275-36b3adf7-fe7f-40fe-b8e3-7f22bf6f16b4.png">  <img width="245" alt="Снимок экрана 2023-04-25 в 23 39 40" src="https://user-images.githubusercontent.com/122968178/234407293-9964abf3-a165-489e-9db9-bae2aa23e96a.png">  <img width="245" alt="Снимок экрана 2023-04-25 в 23 39 56" src="https://user-images.githubusercontent.com/122968178/234407305-4949fb9f-5f85-4986-9643-2370d88fd324.png">


### Мой комментарий по заданию №2:
Анимацию сделал путем override методова touchesBegan и touchesEnded

А прерывание анимации сделал через override метода hitTest

Очень интересно было познакомиться с новым для себя методом tintColorDidChange а точнее - применение dimmed

Я использовал:

⭐ animate(withDuration)

⭐ dimmed

⭐ переопределение методов touchesBegan, touchesEnded, hitTest

и др.



## Задание №3 - Анимация
На экране квадратная вью и слайдер. Вью перемещается из левого края в правый с поворотом и увеличением.

- В конечной точке вью должна быть справа (минус отступ), увеличится в 1.5 раза и повернуться на 90 градусов.

- Когда отпускаем слайдер, анимация идет до конца с текущего места.

- Слева и справа отступы layout margins. Отступ как для квадратной вью, так и для слайдера.

<img width="245" alt="Снимок экрана 2023-04-25 в 23 40 58" src="https://user-images.githubusercontent.com/122968178/234411118-d6f8d5ac-5eec-4fdf-8739-7b63c29aa5ef.png">  <img width="245" alt="Снимок экрана 2023-04-25 в 23 41 07" src="https://user-images.githubusercontent.com/122968178/234411156-e8656e35-cdcf-487b-9ab0-b62fc8e832df.png">. <img width="245" alt="Снимок экрана 2023-04-25 в 23 41 11" src="https://user-images.githubusercontent.com/122968178/234411174-ee09f425-e437-49e9-baae-dd76652c6d45.png">


### Мой комментарий по заданию №3:
Интересное задание, пришлось немного повозиться с ним.

Один из интересных моментов, чтобы квадрат не прилипал к правому краю, необходимо сделать чтобы анимация оставалась в активном состоянии после ее завершения: 

animator.pausesOnCompletion = true

Я использовал:

⭐ UIViewPropertyAnimator

⭐ CGAffineTransform

и др.



## Задание №4 - Таблица
На весь экран таблица, в таблице минимум 30 ячеек.

- По нажатию на ячейку она перемещается на первое место, а справа появляется галочка.

- Если нажать на ячейку с галочкой, то галочка пропадает.

- Справа вверху кнопка перемешивает ячейки.

<img width="245" alt="Снимок экрана 2023-04-25 в 23 41 29" src="https://user-images.githubusercontent.com/122968178/234414071-d01c428f-6f78-4d33-aefb-803c089b0060.png">  <img width="245" alt="Снимок экрана 2023-04-25 в 23 41 37" src="https://user-images.githubusercontent.com/122968178/234414083-7575f7e5-92d6-4fc8-aae2-47a96570f560.png">  <img width="245" alt="Снимок экрана 2023-04-25 в 23 41 44" src="https://user-images.githubusercontent.com/122968178/234414113-19b6ade0-0f52-41ad-a7c6-d6adaa6c2de2.png">  <img width="245" alt="Снимок экрана 2023-04-25 в 23 41 54" src="https://user-images.githubusercontent.com/122968178/234414141-25cbfdaf-86e8-49f5-871b-641d786b31a8.png">


### Мой комментарий по заданию №4:
Очень полезное задание, открыл для себя - UITableViewDiffableDataSource

Я использовал:

⭐ UITableViewDiffableDataSource

⭐ NSDiffableDataSourceSnapshot

и др.



## Задание №5 - Компактный контроллер
По нажатию на кнопку открывается контроллер. На контроллере есть переключатель с двумя пунктами, они меняют высоту контроллера.

- Контроллер открывается не на весь экран. Ширина всегда 300pt.

- По умолчанию выбран первый пункт с высотой 280pt. Если выбрать второй пункт - высота станет 150pt. Высота меняется анимировано.

- Кнопка закрыть в правом верхнем углу закрывает контроллер.

- Контроллер сверху привязан к центру кнопки треугольничком

<img width="245" alt="Снимок экрана 2023-04-25 в 23 42 04" src="https://user-images.githubusercontent.com/122968178/234416911-c2e4c5de-d2f3-4666-ade1-6c80a92e5ac6.png">  <img width="245" alt="Снимок экрана 2023-04-25 в 23 42 11" src="https://user-images.githubusercontent.com/122968178/234416926-7b1b26c7-e13d-4928-b336-30b97a8fcbc6.png">  <img width="245" alt="Снимок экрана 2023-04-25 в 23 42 15" src="https://user-images.githubusercontent.com/122968178/234417003-855c2296-be96-42a7-83f1-3ab585d870b0.png">


### Мой комментарий по заданию №5:
Задание показалось довольно простым.

Интересно было узнать про .popoverPresentationController?.sourceView , до этого не сталкивался с такой задачей.

Я использовал:

⭐ UUISegmentedControl

⭐ .popoverPresentationController?.sourceView

⭐ preferredContentSize

⭐ animate(withDuration)

и др.



## Задание №6 - Инерционный квадрат
На экране синий квадрат. По нажатию на экран, центр квадрата анимировано перемешается в точку нажатия.

- Квадрат должен двигаться как физический объект - если проходит большое расстояние, то есть отскок с инерцией.

- Есть небольшой поворот квадрата при движении в новую точку.

<img width="245" alt="Снимок экрана 2023-04-25 в 23 42 25" src="https://user-images.githubusercontent.com/122968178/234419335-fa6edea4-8122-4b29-a027-762db52c1323.png">


### Мой комментарий по заданию №6:
Задание показалось довольно простым.

Интересный момент - необходимо удалять SnapBehavior каждый раз после отработки анимации, чтобы корректно работал при каждом клике.

Я использовал:

⭐ UIDynamicAnimator

⭐ UISnapBehavior

и др.



## Задание №7 - Растягивающаяся картинка
Вверху экрана находится картинка, под картинкой скролящаяся область. Высота картинки 270pt.

- Если скролить вниз, то картинка растягивается. Верхний край прикреплен к верхней части экрана.

- Если скролить вверх, картинка уходит наверх вместе со скролом.

- Индикатор скрола (полоска справа) всегда находится ниже картинки и не должен залазить на неё.

<img width="245" alt="Снимок экрана 2023-04-25 в 23 43 19" src="https://user-images.githubusercontent.com/122968178/234423788-97e2a15d-d5e0-44ba-b7fa-f649d4540d7b.png">  <img width="245" alt="Снимок экрана 2023-04-25 в 23 43 37" src="https://user-images.githubusercontent.com/122968178/234423819-7dd73311-99aa-456b-af52-090d3e0aa08b.png">  <img width="245" alt="Снимок экрана 2023-04-25 в 23 43 46" src="https://user-images.githubusercontent.com/122968178/234423824-ba867a6e-dd13-4820-adc7-d24bfccb2d09.png">  <img width="245" alt="Снимок экрана 2023-04-25 в 23 43 49" src="https://user-images.githubusercontent.com/122968178/234423841-77b0f87f-caea-4766-99c5-142ba563fce4.png">


### Мой комментарий по заданию №7:

Немного повозился с тем, чтобы индикатор прокрутки не налезал на картинку, но оказалось все довольно просто 😊. Весь секрет оказался в scrollIndicatorInsets и UIEdgeInsets.

Я использовал:

⭐ UIScrollView

⭐ UIScrollViewDelegate

⭐ priority: UILayoutPriority

⭐ scrollIndicatorInsets

⭐ UIEdgeInsets

и др.



## Задание №8 - Нативный аватар
На экране UINavigationController с большим заголовком и скрол вью. Справа от заголовка картинка аватара.

- Картинка SF Symbols person.crop.circle.fill. Размер 36x36pt.

- Картинка двигается и обрезается вместе с заголовком.

Такое же поведение реализовано в приложении - Здоровье

<img width="245" alt="Снимок экрана 2023-04-25 в 23 43 58" src="https://user-images.githubusercontent.com/122968178/234425730-546a059e-ef4b-4fd6-b93b-1943a0e3b428.png">  <img width="245" alt="Снимок экрана 2023-04-25 в 23 44 14" src="https://user-images.githubusercontent.com/122968178/234425760-305e5490-c1b3-4fce-b7d4-fe3f88a3322a.png">  <img width="245" alt="Снимок экрана 2023-04-25 в 23 44 05" src="https://user-images.githubusercontent.com/122968178/234425750-4cd33bdc-b2cc-440c-82a9-db21b803ce1a.png">


### Мой комментарий по заданию №8:

Прикольно, главная задача была найти в иерархии вью на которой располагается LargeTitles.

После того как я это понял, а кстати понял я это путем аналитики инструмента Debug View Hierarchy, далее дело оставалось за малым 😊

Я использовал:

⭐ UINavigationController

⭐ DispatchQueue

⭐ NSLayoutConstraint

⭐ Debug View Hierarchy

и др.



## Задание №9 - Заботливая коллекция
Коллекция с ячейками. Ячейки в один ряд. Горизонтальный cкрол.

- Коллекция на весь экран.

- Крайняя левая ячейка, которая поместилась целиком на экран, всегда имеет отступ слева на layout margins коллекции.

- Когда отпускаем скрол, ячейки останавливаются по правишу выше.

- Если сделать сильный скрол, коллекция пролетает пару ячеек и останавливается по правилу выше.

- Нельзя использовать UICollectionViewCompositionalLayout.

Похожее поведение коллекции вы можете увидеть в приложении App Store.

<img width="245" alt="Снимок экрана 2023-04-25 в 23 44 43" src="https://user-images.githubusercontent.com/122968178/234427677-dbfe26f1-22b5-4acd-b18b-be856ecd2bf6.png">  <img width="245" alt="Снимок экрана 2023-04-25 в 23 44 49" src="https://user-images.githubusercontent.com/122968178/234427700-6ef6f16f-bb2f-43b0-993d-021b89ad77e0.png">


### Мой комментарий по заданию №9:
Данное задание получилось сделать очень быстро.

Реализацию, чтобы после прокрутки колекции останавливался в начале Item, сделал в методе scrollViewWillEndDragging

Я использовал:

⭐ UICollectionView

⭐ UICollectionViewDataSource

⭐ UICollectionViewDelegateFlowLayout

⭐ scrollViewWillEndDragging

и др.
